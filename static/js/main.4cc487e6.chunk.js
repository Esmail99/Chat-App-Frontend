(this["webpackJsonpchat-app-frontend"]=this["webpackJsonpchat-app-frontend"]||[]).push([[0],{119:function(e,a){},122:function(e,a,n){},124:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),s=n(22),o=n.n(s),i=n(11),l=n(17),c=n(59),m=n.n(c),u={messageField:""},p={username:"",password:"",passwordConfirmation:"",isSignedin:!1},d={usernameErr:"",passwordErr:"",passwordConfirmationErr:""},f=Object(l.c)({messageInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"CHANGE_MESSAGE_INPUT":return Object.assign({},e,{messageField:a.payload});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"CHANGE_USER_NAME":return Object.assign({},e,{username:a.payload});case"CHANGE_PASSWORD":return Object.assign({},e,{password:a.payload});case"CHANGE_PASSWORD_CONFIRMATION":return Object.assign({},e,{passwordConfirmation:a.payload});case"CHANGE_SIGNIN_STATE":return Object.assign({},e,{isSignedin:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"USER_NAME_ERROR":return Object.assign({},e,{usernameErr:a.payload});case"PASSWORD_ERROR":return Object.assign({},e,{passwordErr:a.payload});case"PASSWORD_CONFIRMATION_ERROR":return Object.assign({},e,{passwordConfirmationErr:a.payload});default:return e}}}),g=Object(l.d)(f,Object(l.a)(m.a)),E=(n(71),n(8)),h=n(9),v=n(12),w=n(13),b=n(10),y=n(14),C=(n(72),n(24)),N=n.n(C),O=function(e){return{type:"CHANGE_USER_NAME",payload:e}},S=function(e){return{type:"CHANGE_PASSWORD",payload:e}},I=function(e){return{type:"USER_NAME_ERROR",payload:e}},R=function(e){return{type:"PASSWORD_ERROR",payload:e}},A=function(e){Object(w.a)(n,e);var a=Object(v.a)(n);function n(){var e;Object(E.a)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).validate=function(){var a=e.props,n=a.username,t=a.password,r=a.passwordConfirmation,s=a.validateUsername,o=a.validatePassword,i=a.validatePasswordConfirmation;if(n||t||r)if(n)if(t)if(r){if(t===r)return o(""),s(""),i(""),!0;i("password confirmation is not correct!")}else i("password Confirmation is required!"),o("");else o("password is required!"),s("");else s("Username is required!"),o(""),i("");else s("Username is required!"),o("password is required!"),i("password Confirmation is required!");return!1},e.onFormSubmit=function(a){a.preventDefault();var n=e.props,t=n.username,r=n.password,s=n.onRegister,o=n.history,i=n.validateUsername;e.validate()&&N.a.post("https://fathomless-taiga-86436.herokuapp.com/register",{username:t,password:r}).then((function(e){s(),o.push("/chat")})).catch((function(e){e.response?i(e.response.data):i("Please try again later!")}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,a=e.usernameErr,n=e.onUsernameChange,t=e.passwordErr,s=e.onPasswordChange,o=e.passwordConfirmationErr,i=e.onPasswordConfirmationChange;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{className:"w-75",onSubmit:this.onFormSubmit},r.a.createElement("small",{className:"text-danger"},a),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Username"),r.a.createElement("input",{onChange:n,type:"text",className:"form-control","aria-describedby":"emailHelp"})),r.a.createElement("small",{className:"text-danger"},t),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{onChange:s,name:"password",type:"password",className:"form-control"})),r.a.createElement("small",{className:"text-danger"},o),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Confirm Password"),r.a.createElement("input",{onChange:i,name:"confirmPassword",type:"password",className:"form-control"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register"),r.a.createElement("div",null,r.a.createElement(b.b,{to:"/"},"Already have an account? Sign In"))))}}]),n}(t.Component),P=Object(i.b)((function(e){return{username:e.userInfo.username,password:e.userInfo.password,passwordConfirmation:e.userInfo.passwordConfirmation,isSignedin:e.userInfo.isSignedin,usernameErr:e.errors.usernameErr,passwordErr:e.errors.passwordErr,passwordConfirmationErr:e.errors.passwordConfirmationErr}}),(function(e){return{onUsernameChange:function(a){return e(O(a.target.value))},onPasswordChange:function(a){return e(S(a.target.value))},onPasswordConfirmationChange:function(a){return e({type:"CHANGE_PASSWORD_CONFIRMATION",payload:a.target.value})},onRegister:function(){return e({type:"CHANGE_SIGNIN_STATE"})},validateUsername:function(a){return e(I(a))},validatePassword:function(a){return e(R(a))},validatePasswordConfirmation:function(a){return e(function(e){return{type:"PASSWORD_CONFIRMATION_ERROR",payload:e}}(a))}}}))(Object(y.f)(A)),j=function(e){Object(w.a)(n,e);var a=Object(v.a)(n);function n(){var e;Object(E.a)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).validate=function(){var a=e.props,n=a.username,t=a.password,r=a.validateUsername,s=a.validatePassword;if(n||t)if(n){if(t)return s(""),r(""),!0;s("password is required!"),r("")}else r("Username is required!"),s("");else r("Username is required!"),s("password is required!");return!1},e.onFormSubmit=function(a){a.preventDefault();var n=e.props,t=n.username,r=n.password,s=n.onRegister,o=n.history,i=n.validateUsername;e.validate()&&N.a.post("https://fathomless-taiga-86436.herokuapp.com/signin",{username:t,password:r}).then((function(e){s(),o.push("/chat")})).catch((function(e){e.response?i(e.response.data):i("Please try again later!")}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,a=e.usernameErr,n=e.onUsernameChange,t=e.passwordErr,s=e.onPasswordChange;return r.a.createElement("div",{className:"container-sm"},r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{className:"",onSubmit:this.onFormSubmit},r.a.createElement("small",{className:"text-danger"},a),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Username"),r.a.createElement("input",{onChange:n,name:"username",type:"text",className:"form-control","aria-describedby":"emailHelp"})),r.a.createElement("small",{className:"text-danger"},t),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{onChange:s,name:"password",type:"password",className:"form-control",id:"exampleInputPassword1"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign In"),r.a.createElement("div",null,r.a.createElement(b.b,{to:"/register"},"Don't have an account? Sign Up"))))}}]),n}(t.Component),_=Object(i.b)((function(e){return{username:e.userInfo.username,password:e.userInfo.password,isSignedin:e.userInfo.isSignedin,usernameErr:e.errors.usernameErr,passwordErr:e.errors.passwordErr}}),(function(e){return{onUsernameChange:function(a){return e(O(a.target.value))},onPasswordChange:function(a){return e(S(a.target.value))},onRegister:function(){return e({type:"CHANGE_SIGNIN_STATE"})},validateUsername:function(a){return e(I(a))},validatePassword:function(a){return e(R(a))}}}))(Object(y.f)(j)),U=n(61),F=n.n(U),x=(n(122),function(){document.getElementById("scroll").scrollIntoView({behavior:"smooth"})}),T=F()("https://fathomless-taiga-86436.herokuapp.com/");T.on("chat",(function(e){document.getElementById("typing").innerHTML="",document.getElementById("chatMessages").innerHTML+="<p><strong>"+e.name+": </strong>"+e.message+"</p><br/>",x()})),T.on("typing",(function(e){document.getElementById("typing").innerHTML=e+" is typing ..."}));var G=function(e){Object(w.a)(n,e);var a=Object(v.a)(n);function n(){var e;Object(E.a)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).onFormSubmit=function(a){a.preventDefault(),e.props.messageField.length&&(T.emit("chat",{name:e.props.username,message:e.props.messageField}),document.getElementsByTagName("input")[0].value="",e.props.onInputChange({target:{value:""}}),x())},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,a=e.isSignedin,n=e.onInputChange,t=e.username;return a?r.a.createElement("div",{className:"card mx-auto my-5 bg-light chat-container"},r.a.createElement("header",{className:"text-center border-bottom font-italic"},r.a.createElement("h4",{className:" my-3"},"Global Chat")),r.a.createElement("div",{className:"card-body overflow-auto"},r.a.createElement("div",{id:"chatMessages"}),r.a.createElement("div",{id:"scroll"})),r.a.createElement("p",{id:"typing",className:"ml-3"}),r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"input-group p-1"},r.a.createElement("input",{onChange:function(e){n(e),T.emit("typing",t)},type:"text",className:"form-control rounded-pill",placeholder:"Type a message..","aria-label":"Type a message..","aria-describedby":"button-addon2"}),r.a.createElement("div",{className:"input-group-append btn m-0 p-0"},r.a.createElement("svg",{onClick:this.onFormSubmit,height:"36px",width:"36px",viewBox:"0 0 36 36"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",null,r.a.createElement("polygon",{points:"0 36 36 36 36 0 0 0"}),r.a.createElement("path",{d:"M31.1059281,19.4468693 L10.3449666,29.8224462 C8.94594087,30.5217547 7.49043432,29.0215929 8.17420251,27.6529892 C8.17420251,27.6529892 10.7473302,22.456697 11.4550902,21.0955966 C12.1628503,19.7344961 12.9730756,19.4988922 20.4970248,18.5264632 C20.7754304,18.4904474 21.0033531,18.2803547 21.0033531,17.9997309 C21.0033531,17.7196073 20.7754304,17.5095146 20.4970248,17.4734988 C12.9730756,16.5010698 12.1628503,16.2654659 11.4550902,14.9043654 C10.7473302,13.5437652 8.17420251,8.34697281 8.17420251,8.34697281 C7.49043432,6.9788693 8.94594087,5.47820732 10.3449666,6.1775158 L31.1059281,16.553593 C32.298024,17.1488555 32.298024,18.8511065 31.1059281,19.4468693",fill:"#0099ff"}))))))):r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("h1",null,r.a.createElement(b.b,{to:"/"},"Please register first")))}}]),n}(t.Component),H=Object(i.b)((function(e){return{messageField:e.messageInput.messageField,username:e.userInfo.username,isSignedin:e.userInfo.isSignedin}}),(function(e){return{onInputChange:function(a){return e({type:"CHANGE_MESSAGE_INPUT",payload:a.target.value})}}}))(G),M=function(e){Object(w.a)(n,e);var a=Object(v.a)(n);function n(){return Object(E.a)(this,n),a.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/register"},r.a.createElement(P,null)),r.a.createElement(y.a,{path:"/chat"},r.a.createElement(H,null)),r.a.createElement(y.a,{path:"/"},r.a.createElement(_,null)))))}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(123);o.a.render(r.a.createElement(i.a,{store:g},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,a,n){e.exports=n(124)},71:function(e,a,n){},72:function(e,a,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.4cc487e6.chunk.js.map